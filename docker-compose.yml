version: '3'
services:
  oauth-server:
    # Switched to 'pming' - a stable, widely used fork
    image: pming/netlify-cms-oauth-provider-go:latest
    container_name: lumina-auth
    restart: always
    environment:
      # This image requires the OAUTH_ prefix
      - OAUTH_PROVIDER=github
      - OAUTH_CLIENT_ID=Iv23li5ruvGgBnvl0J3c
      # Hardcoded Client Secret as requested
      - OAUTH_CLIENT_SECRET=4718d7dd8dfabc4d745539368039d495077c591b
    ports:
      # Maps local 8080 to container 8080
      - "8080:8080"
